def get_numbers():
    while True:
        try:
            input_str = input("Enter heart rate readings separated by spaces: ")
            if not input_str.strip():
                continue
            
            numbers = []
            for val in input_str.split():
                numbers.append(float(val))
            return numbers
        except ValueError:
            print("Error: Invalid input.")

def manual_sort(numbers):
    arr = list(numbers)
    n = 0
    for _ in arr: n += 1
    
    for i in range(n):
        for j in range(0, n - i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
    return arr

def find_min(numbers):
    minimum = numbers[0]
    for x in numbers:
        if x < minimum:
            minimum = x
    return minimum

def find_max(numbers):
    maximum = numbers[0]
    for x in numbers:
        if x > maximum:
            maximum = x
    return maximum

def find_mean(numbers):
    total = 0
    count = 0
    for x in numbers:
        total += x
        count += 1
    return total / count

def find_mode(numbers):
    counts = {}
    for x in numbers:
        counts[x] = counts.get(x, 0) + 1
    
    max_count = 0
    for key in counts:
        if counts[key] > max_count:
            max_count = counts[key]
            
    modes = []
    for key in counts:
        if counts[key] == max_count:
            modes.append(key)
    return modes

def find_median(numbers):
    sorted_arr = manual_sort(numbers)
    n = 0
    for _ in sorted_arr: n += 1
    
    if n % 2 == 1:
        return sorted_arr[n // 2]
    else:
        return (sorted_arr[n // 2 - 1] + sorted_arr[n // 2]) / 2

def find_range(numbers):
    return find_max(numbers) - find_min(numbers)

def find_variance(numbers):
    mean = find_mean(numbers)
    sum_sq_diff = 0
    count = 0
    for x in numbers:
        sum_sq_diff += (x - mean) ** 2
        count += 1
    return sum_sq_diff / (count - 1)

def find_STD(numbers):
    return find_variance(numbers) ** 0.5

def find_Quartiles(numbers):
    sorted_arr = manual_sort(numbers)
    n = 0
    for _ in sorted_arr: n += 1
    
    def get_med(data):
        length = 0
        for _ in data: length += 1
        if length == 0: return 0
        if length % 2 == 1: return data[length // 2]
        return (data[length // 2 - 1] + data[length // 2]) / 2

    q2 = get_med(sorted_arr)
    mid = n // 2
    if n % 2 == 0:
        q1 = get_med(sorted_arr[:mid])
        q3 = get_med(sorted_arr[mid:])
    else:
        q1 = get_med(sorted_arr[:mid])
        q3 = get_med(sorted_arr[mid+1:])
    return q1, q2, q3

def find_IQR(numbers):
    q1, q2, q3 = find_Quartiles(numbers)
    return q3 - q1

def main():
    data = get_numbers()
    
    print(f"Min Heart Rate: {find_min(data)}")
    print(f"Max Heart Rate: {find_max(data)}")
    print(f"Mean Heart Rate: {find_mean(data)}")
    print(f"Mode: {find_mode(data)}")
    print(f"Median: {find_median(data)}")
    print(f"Range: {find_range(data)}")
    print(f"Variance: {find_variance(data)}")
    print(f"Standard Deviation: {find_STD(data)}")
    
    q1, q2, q3 = find_Quartiles(data)
    print(f"Quartiles: Q1={q1}, Q2={q2}, Q3={q3}")
    print(f"Interquartile Range (IQR): {find_IQR(data)}")

if __name__ == "__main__":
    main()